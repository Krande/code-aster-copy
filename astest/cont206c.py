# coding=utf-8
# --------------------------------------------------------------------
# Copyright (C) 1991 - 2025 - EDF R&D - www.code-aster.org
# This file is part of code_aster.
#
# code_aster is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# code_aster is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with code_aster.  If not, see <http://www.gnu.org/licenses/>.
# --------------------------------------------------------------------

from code_aster.Commands import *
from code_aster import CA
from enum import Enum
from code_aster.MacroCommands.defi_cont import DEFI_CONT
from libaster import ContactPairing, ContactComputation, PairingMethod
import numpy

# -------------------------------------
#       - Reference solution
# -------------------------------------
"""
    1: SLAVE = CONT_BAS + PairingMethod.Fast
"""
refValues = {
    1: {
        "nbPairs": 170,
        "listPairs": [
            (24, 420),
            (24, 431),
            (24, 407),
            (60, 421),
            (60, 432),
            (60, 408),
            (60, 419),
            (48, 407),
            (48, 431),
            (48, 443),
            (48, 469),
            (48, 453),
            (48, 488),
            (156, 419),
            (156, 522),
            (156, 535),
            (59, 419),
            (59, 408),
            (59, 432),
            (59, 421),
            (59, 454),
            (59, 445),
            (59, 464),
            (59, 463),
            (36, 453),
            (36, 443),
            (36, 418),
            (36, 407),
            (36, 430),
            (36, 406),
            (136, 488),
            (136, 453),
            (136, 469),
            (136, 492),
            (136, 508),
            (152, 535),
            (152, 522),
            (152, 533),
            (152, 539),
            (159, 535),
            (159, 522),
            (159, 536),
            (159, 419),
            (159, 520),
            (159, 513),
            (159, 549),
            (35, 463),
            (35, 445),
            (35, 421),
            (35, 409),
            (35, 433),
            (35, 422),
            (99, 464),
            (99, 454),
            (99, 529),
            (99, 497),
            (99, 576),
            (99, 573),
            (99, 513),
            (127, 506),
            (127, 507),
            (160, 539),
            (160, 543),
            (160, 547),
            (160, 535),
            (160, 553),
            (160, 552),
            (160, 554),
            (162, 549),
            (162, 520),
            (162, 563),
            (162, 536),
            (162, 562),
            (162, 551),
            (162, 535),
            (168, 549),
            (168, 520),
            (168, 578),
            (168, 513),
            (168, 573),
            (168, 497),
            (168, 576),
            (71, 422),
            (71, 446),
            (71, 433),
            (71, 455),
            (71, 485),
            (71, 465),
            (98, 576),
            (98, 529),
            (98, 590),
            (98, 464),
            (98, 581),
            (98, 620),
            (98, 463),
            (98, 519),
            (98, 613),
            (98, 465),
            (98, 502),
            (98, 503),
            (166, 552),
            (166, 547),
            (166, 567),
            (166, 566),
            (164, 554),
            (164, 553),
            (164, 630),
            (164, 543),
            (164, 555),
            (164, 632),
            (164, 535),
            (164, 629),
            (163, 535),
            (163, 536),
            (163, 543),
            (163, 551),
            (163, 553),
            (163, 562),
            (163, 555),
            (163, 635),
            (163, 629),
            (163, 637),
            (163, 632),
            (191, 562),
            (191, 563),
            (191, 635),
            (191, 624),
            (191, 660),
            (191, 661),
            (172, 590),
            (172, 597),
            (172, 657),
            (172, 596),
            (172, 578),
            (172, 625),
            (172, 672),
            (96, 519),
            (96, 502),
            (167, 566),
            (167, 557),
            (167, 548),
            (167, 556),
            (192, 567),
            (192, 552),
            (192, 628),
            (192, 554),
            (192, 631),
            (192, 671),
            (192, 630),
            (192, 690),
            (193, 632),
            (193, 678),
            (193, 630),
            (193, 631),
            (193, 690),
            (138, 556),
            (138, 524),
            (138, 557),
            (138, 480),
            (138, 548),
            (138, 481),
            (186, 583),
            (186, 618),
            (186, 686),
            (187, 618),
            (150, 583),
            (150, 588),
            (150, 643),
            (150, 587),
            (150, 638),
        ],
    },
    2: {
        "nbPairs": 170,
        "listPairs": [
            (24, 420),
            (24, 431),
            (24, 407),
            (60, 421),
            (60, 432),
            (60, 408),
            (60, 419),
            (48, 407),
            (48, 431),
            (48, 443),
            (48, 469),
            (48, 453),
            (48, 488),
            (156, 419),
            (156, 522),
            (156, 535),
            (59, 419),
            (59, 408),
            (59, 432),
            (59, 421),
            (59, 454),
            (59, 445),
            (59, 464),
            (59, 463),
            (36, 453),
            (36, 443),
            (36, 418),
            (36, 407),
            (36, 430),
            (36, 406),
            (136, 488),
            (136, 453),
            (136, 469),
            (136, 492),
            (136, 508),
            (152, 535),
            (152, 522),
            (152, 533),
            (152, 539),
            (159, 535),
            (159, 522),
            (159, 536),
            (159, 419),
            (159, 520),
            (159, 513),
            (159, 549),
            (35, 463),
            (35, 445),
            (35, 421),
            (35, 409),
            (35, 433),
            (35, 422),
            (99, 464),
            (99, 454),
            (99, 529),
            (99, 497),
            (99, 576),
            (99, 573),
            (99, 513),
            (127, 506),
            (127, 507),
            (160, 539),
            (160, 543),
            (160, 547),
            (160, 535),
            (160, 553),
            (160, 552),
            (160, 554),
            (162, 549),
            (162, 520),
            (162, 563),
            (162, 536),
            (162, 562),
            (162, 551),
            (162, 535),
            (168, 549),
            (168, 520),
            (168, 578),
            (168, 513),
            (168, 573),
            (168, 497),
            (168, 576),
            (71, 422),
            (71, 446),
            (71, 433),
            (71, 455),
            (71, 485),
            (71, 465),
            (98, 576),
            (98, 529),
            (98, 590),
            (98, 464),
            (98, 581),
            (98, 620),
            (98, 463),
            (98, 519),
            (98, 613),
            (98, 465),
            (98, 502),
            (98, 503),
            (166, 552),
            (166, 547),
            (166, 567),
            (166, 566),
            (164, 554),
            (164, 553),
            (164, 630),
            (164, 543),
            (164, 555),
            (164, 632),
            (164, 535),
            (164, 629),
            (163, 535),
            (163, 536),
            (163, 543),
            (163, 551),
            (163, 553),
            (163, 562),
            (163, 555),
            (163, 635),
            (163, 629),
            (163, 637),
            (163, 632),
            (191, 562),
            (191, 563),
            (191, 635),
            (191, 624),
            (191, 660),
            (191, 661),
            (172, 590),
            (172, 597),
            (172, 657),
            (172, 596),
            (172, 578),
            (172, 625),
            (172, 672),
            (96, 519),
            (96, 502),
            (167, 566),
            (167, 557),
            (167, 548),
            (167, 556),
            (192, 567),
            (192, 552),
            (192, 628),
            (192, 554),
            (192, 631),
            (192, 671),
            (192, 630),
            (192, 690),
            (193, 632),
            (193, 678),
            (193, 630),
            (193, 631),
            (193, 690),
            (138, 556),
            (138, 524),
            (138, 557),
            (138, 480),
            (138, 548),
            (138, 481),
            (186, 583),
            (186, 618),
            (186, 686),
            (187, 618),
            (150, 583),
            (150, 588),
            (150, 643),
            (150, 587),
            (150, 638),
        ],
    },
    3: {
        "nbPairs": 181,
        "listPairs": [
            (24, 407),
            (24, 420),
            (24, 431),
            (35, 409),
            (35, 421),
            (35, 422),
            (35, 433),
            (35, 445),
            (35, 463),
            (36, 406),
            (36, 407),
            (36, 418),
            (36, 430),
            (36, 443),
            (36, 453),
            (48, 407),
            (48, 431),
            (48, 443),
            (48, 453),
            (48, 469),
            (48, 488),
            (59, 408),
            (59, 419),
            (59, 421),
            (59, 432),
            (59, 445),
            (59, 454),
            (59, 463),
            (59, 464),
            (60, 408),
            (60, 419),
            (60, 421),
            (60, 432),
            (61, 468),
            (61, 489),
            (71, 422),
            (71, 433),
            (71, 446),
            (71, 455),
            (71, 465),
            (71, 485),
            (96, 502),
            (96, 519),
            (98, 463),
            (98, 464),
            (98, 465),
            (98, 502),
            (98, 503),
            (98, 519),
            (98, 529),
            (98, 576),
            (98, 581),
            (98, 590),
            (98, 613),
            (98, 620),
            (99, 454),
            (99, 464),
            (99, 497),
            (99, 513),
            (99, 529),
            (99, 573),
            (99, 576),
            (127, 506),
            (127, 507),
            (136, 453),
            (136, 469),
            (136, 488),
            (136, 492),
            (136, 508),
            (137, 480),
            (137, 523),
            (137, 524),
            (137, 556),
            (138, 480),
            (138, 481),
            (138, 524),
            (138, 548),
            (138, 556),
            (138, 557),
            (139, 444),
            (139, 480),
            (139, 481),
            (139, 533),
            (150, 583),
            (150, 587),
            (150, 588),
            (150, 638),
            (150, 643),
            (152, 522),
            (152, 533),
            (152, 535),
            (152, 539),
            (156, 419),
            (156, 522),
            (156, 535),
            (159, 419),
            (159, 513),
            (159, 520),
            (159, 522),
            (159, 535),
            (159, 536),
            (159, 549),
            (160, 535),
            (160, 539),
            (160, 543),
            (160, 547),
            (160, 552),
            (160, 553),
            (160, 554),
            (162, 520),
            (162, 535),
            (162, 536),
            (162, 549),
            (162, 551),
            (162, 562),
            (162, 563),
            (163, 535),
            (163, 536),
            (163, 543),
            (163, 551),
            (163, 553),
            (163, 555),
            (163, 562),
            (163, 629),
            (163, 632),
            (163, 635),
            (163, 637),
            (164, 535),
            (164, 543),
            (164, 553),
            (164, 554),
            (164, 555),
            (164, 629),
            (164, 630),
            (164, 632),
            (166, 547),
            (166, 552),
            (166, 566),
            (166, 567),
            (167, 548),
            (167, 556),
            (167, 557),
            (167, 566),
            (168, 497),
            (168, 513),
            (168, 520),
            (168, 549),
            (168, 573),
            (168, 576),
            (168, 578),
            (172, 578),
            (172, 590),
            (172, 596),
            (172, 597),
            (172, 625),
            (172, 657),
            (172, 672),
            (186, 583),
            (186, 618),
            (186, 686),
            (187, 618),
            (190, 625),
            (191, 562),
            (191, 563),
            (191, 624),
            (191, 635),
            (191, 660),
            (191, 661),
            (192, 552),
            (192, 554),
            (192, 567),
            (192, 628),
            (192, 630),
            (192, 631),
            (192, 671),
            (192, 690),
            (193, 630),
            (193, 631),
            (193, 632),
            (193, 678),
            (193, 690),
        ],
    },
    4: {
        "nbPairs": 148,
        "listPairs": [
            (408, 60),
            (408, 59),
            (408, 35),
            (408, 99),
            (420, 36),
            (420, 48),
            (420, 136),
            (420, 24),
            (432, 99),
            (432, 59),
            (432, 98),
            (432, 35),
            (432, 96),
            (432, 71),
            (419, 99),
            (419, 59),
            (419, 168),
            (419, 60),
            (419, 159),
            (419, 156),
            (444, 139),
            (444, 138),
            (444, 137),
            (444, 167),
            (431, 136),
            (431, 127),
            (431, 48),
            (431, 81),
            (431, 36),
            (431, 61),
            (421, 71),
            (421, 47),
            (421, 35),
            (421, 96),
            (421, 58),
            (421, 34),
            (454, 96),
            (454, 98),
            (454, 104),
            (454, 99),
            (454, 117),
            (454, 122),
            (454, 123),
            (454, 206),
            (513, 159),
            (513, 168),
            (513, 172),
            (513, 99),
            (513, 180),
            (522, 156),
            (522, 152),
            (522, 159),
            (522, 160),
            (533, 167),
            (533, 138),
            (533, 166),
            (533, 139),
            (533, 160),
            (533, 152),
            (481, 167),
            (481, 138),
            (481, 186),
            (481, 137),
            (481, 187),
            (481, 150),
            (407, 61),
            (407, 36),
            (407, 25),
            (407, 81),
            (407, 49),
            (407, 37),
            (469, 81),
            (469, 127),
            (469, 194),
            (469, 136),
            (469, 199),
            (497, 206),
            (497, 123),
            (497, 229),
            (497, 117),
            (497, 228),
            (497, 98),
            (497, 180),
            (497, 99),
            (497, 172),
            (497, 168),
            (535, 160),
            (535, 164),
            (535, 163),
            (535, 162),
            (535, 181),
            (539, 160),
            (539, 166),
            (539, 164),
            (539, 192),
            (539, 193),
            (548, 187),
            (548, 244),
            (548, 186),
            (548, 264),
            (548, 167),
            (548, 223),
            (548, 280),
            (548, 299),
            (480, 150),
            (480, 137),
            (480, 197),
            (480, 187),
            (480, 194),
            (480, 220),
            (480, 244),
            (480, 199),
            (480, 221),
            (480, 213),
            (488, 153),
            (488, 83),
            (488, 204),
            (536, 181),
            (536, 163),
            (536, 196),
            (536, 162),
            (536, 231),
            (536, 191),
            (536, 249),
            (543, 181),
            (543, 163),
            (543, 202),
            (543, 164),
            (543, 224),
            (543, 160),
            (543, 193),
            (547, 192),
            (547, 166),
            (547, 222),
            (547, 167),
            (547, 245),
            (547, 266),
            (553, 224),
            (553, 274),
            (553, 202),
            (553, 304),
            (553, 236),
            (553, 305),
            (553, 262),
            (552, 266),
            (552, 245),
            (552, 274),
            (552, 304),
        ],
    },
    5: {
        "nbPairs": 148,
        "listPairs": [
            (408, 60),
            (408, 59),
            (408, 35),
            (408, 99),
            (420, 36),
            (420, 48),
            (420, 136),
            (420, 24),
            (432, 99),
            (432, 59),
            (432, 98),
            (432, 35),
            (432, 96),
            (432, 71),
            (419, 99),
            (419, 59),
            (419, 168),
            (419, 60),
            (419, 159),
            (419, 156),
            (444, 139),
            (444, 138),
            (444, 137),
            (444, 167),
            (431, 136),
            (431, 127),
            (431, 48),
            (431, 81),
            (431, 36),
            (431, 61),
            (421, 71),
            (421, 47),
            (421, 35),
            (421, 96),
            (421, 58),
            (421, 34),
            (454, 96),
            (454, 98),
            (454, 104),
            (454, 99),
            (454, 117),
            (454, 122),
            (454, 123),
            (454, 206),
            (513, 159),
            (513, 168),
            (513, 172),
            (513, 99),
            (513, 180),
            (522, 156),
            (522, 152),
            (522, 159),
            (522, 160),
            (533, 167),
            (533, 138),
            (533, 166),
            (533, 139),
            (533, 160),
            (533, 152),
            (481, 167),
            (481, 138),
            (481, 186),
            (481, 137),
            (481, 187),
            (481, 150),
            (407, 61),
            (407, 36),
            (407, 25),
            (407, 81),
            (407, 49),
            (407, 37),
            (469, 81),
            (469, 127),
            (469, 194),
            (469, 136),
            (469, 199),
            (497, 206),
            (497, 123),
            (497, 229),
            (497, 117),
            (497, 228),
            (497, 98),
            (497, 180),
            (497, 99),
            (497, 172),
            (497, 168),
            (535, 160),
            (535, 164),
            (535, 163),
            (535, 162),
            (535, 181),
            (539, 160),
            (539, 166),
            (539, 164),
            (539, 192),
            (539, 193),
            (548, 187),
            (548, 244),
            (548, 186),
            (548, 264),
            (548, 167),
            (548, 223),
            (548, 280),
            (548, 299),
            (480, 150),
            (480, 137),
            (480, 197),
            (480, 187),
            (480, 194),
            (480, 220),
            (480, 244),
            (480, 199),
            (480, 221),
            (480, 213),
            (488, 153),
            (488, 83),
            (488, 204),
            (536, 181),
            (536, 163),
            (536, 196),
            (536, 162),
            (536, 231),
            (536, 191),
            (536, 249),
            (543, 181),
            (543, 163),
            (543, 202),
            (543, 164),
            (543, 224),
            (543, 160),
            (543, 193),
            (547, 192),
            (547, 166),
            (547, 222),
            (547, 167),
            (547, 245),
            (547, 266),
            (553, 224),
            (553, 274),
            (553, 202),
            (553, 304),
            (553, 236),
            (553, 305),
            (553, 262),
            (552, 266),
            (552, 245),
            (552, 274),
            (552, 304),
        ],
    },
    6: {
        "nbPairs": 163,
        "listPairs": [
            (407, 25),
            (407, 36),
            (407, 37),
            (407, 49),
            (407, 61),
            (407, 81),
            (408, 35),
            (408, 59),
            (408, 60),
            (408, 99),
            (419, 59),
            (419, 60),
            (419, 99),
            (419, 156),
            (419, 159),
            (419, 168),
            (420, 24),
            (420, 36),
            (420, 48),
            (420, 136),
            (421, 34),
            (421, 35),
            (421, 47),
            (421, 58),
            (421, 71),
            (421, 96),
            (431, 36),
            (431, 48),
            (431, 61),
            (431, 81),
            (431, 127),
            (431, 136),
            (432, 35),
            (432, 59),
            (432, 71),
            (432, 96),
            (432, 98),
            (432, 99),
            (443, 82),
            (443, 84),
            (444, 137),
            (444, 138),
            (444, 139),
            (444, 167),
            (445, 80),
            (445, 100),
            (454, 96),
            (454, 98),
            (454, 99),
            (454, 104),
            (454, 117),
            (454, 122),
            (454, 123),
            (454, 206),
            (464, 122),
            (464, 131),
            (464, 132),
            (469, 81),
            (469, 127),
            (469, 136),
            (469, 194),
            (469, 199),
            (480, 137),
            (480, 150),
            (480, 187),
            (480, 194),
            (480, 197),
            (480, 199),
            (480, 213),
            (480, 220),
            (480, 221),
            (480, 244),
            (481, 137),
            (481, 138),
            (481, 150),
            (481, 167),
            (481, 186),
            (481, 187),
            (488, 83),
            (488, 153),
            (488, 204),
            (497, 98),
            (497, 99),
            (497, 117),
            (497, 123),
            (497, 168),
            (497, 172),
            (497, 180),
            (497, 206),
            (497, 228),
            (497, 229),
            (513, 99),
            (513, 159),
            (513, 168),
            (513, 172),
            (513, 180),
            (520, 162),
            (520, 190),
            (520, 191),
            (520, 217),
            (520, 230),
            (520, 249),
            (520, 281),
            (522, 152),
            (522, 156),
            (522, 159),
            (522, 160),
            (533, 138),
            (533, 139),
            (533, 152),
            (533, 160),
            (533, 166),
            (533, 167),
            (535, 160),
            (535, 162),
            (535, 163),
            (535, 164),
            (535, 181),
            (536, 162),
            (536, 163),
            (536, 181),
            (536, 191),
            (536, 196),
            (536, 231),
            (536, 249),
            (539, 160),
            (539, 164),
            (539, 166),
            (539, 192),
            (539, 193),
            (543, 160),
            (543, 163),
            (543, 164),
            (543, 181),
            (543, 193),
            (543, 202),
            (543, 224),
            (547, 166),
            (547, 167),
            (547, 192),
            (547, 222),
            (547, 245),
            (547, 266),
            (548, 167),
            (548, 186),
            (548, 187),
            (548, 223),
            (548, 244),
            (548, 264),
            (548, 280),
            (548, 299),
            (551, 239),
            (552, 245),
            (552, 266),
            (552, 274),
            (552, 304),
            (553, 202),
            (553, 224),
            (553, 236),
            (553, 262),
            (553, 274),
            (553, 304),
            (553, 305),
        ],
    },
}
# -------------------------------------
#       - Read mesh and set model
# -------------------------------------
DEBUT(CODE="OUI", ERREUR=_F(ALARME="ALARME"), INFO=1)

test = CA.TestCase()

Mail = LIRE_MAILLAGE(UNITE=20, FORMAT="MED")

Mail = MODI_MAILLAGE(
    reuse=Mail, MAILLAGE=Mail, ORIE_PEAU=_F(GROUP_MA_PEAU=("CONT_HAUT", "CONT_BAS"))
)

MODI = AFFE_MODELE(MAILLAGE=Mail, AFFE=_F(TOUT="OUI", PHENOMENE="MECANIQUE", MODELISATION="3D"))

# -------------------------------------
#       - CONFIG: SLAVE="CONT_BAS" + PairingMethod.Fast
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_BAS", "CONT_HAUT")
meshPair.setMethod(PairingMethod.Fast)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[1]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[2]["listPairs"])

# -------------------------------------
#       - CONFIG: SLAVE="CONT_BAS" + PairingMethod.Legacy
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_BAS", "CONT_HAUT")
meshPair.setMethod(PairingMethod.Legacy)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[2]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[2]["listPairs"])

# -------------------------------------
#       - CONFIG: SLAVE="CONT_BAS" + PairingMethod.BrutForce
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_BAS", "CONT_HAUT")
meshPair.setMethod(PairingMethod.BrutForce)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[3]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[3]["listPairs"])

# -------------------------------------
#       - CONFIG: SLAVE="CONT_HAUT" + PairingMethod.Fast
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_HAUT", "CONT_BAS")
meshPair.setMethod(PairingMethod.Fast)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[4]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[4]["listPairs"])

# -------------------------------------
#       - CONFIG: SLAVE="CONT_HAUT" + PairingMethod.Legacy
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_HAUT", "CONT_BAS")
meshPair.setMethod(PairingMethod.Legacy)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[5]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[5]["listPairs"])

# -------------------------------------
#       - CONFIG: SLAVE="CONT_HAUT" + PairingMethod.BrutForce
# -------------------------------------
# Generate pairs
meshPair = CA.MeshPairing()
meshPair.setMesh(Mail)
meshPair.setVerbosity(1)
meshPair.setPair("CONT_HAUT", "CONT_BAS")
meshPair.setMethod(PairingMethod.BrutForce)
meshPair.compute()

# Get pairs
nbPairs = meshPair.getNumberOfPairs()
test.assertEqual(refValues[6]["nbPairs"], nbPairs)

if nbPairs != 0:
    listPairs = meshPair.getListOfPairs()
    test.assertSequenceEqual(listPairs, refValues[6]["listPairs"])

FIN()
