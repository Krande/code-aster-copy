[project]
authors = [{name = "Mathieu Courtois", email = "mathieu.courtois@edf.fr"}]
name = "codeaster-src"
requires-python = ">= 3.11"
version = "0.1.0"

[tool.pixi.project]
channels = ["conda-forge"]
conda-pypi-map = { conda-forge = ".mapping.json" }
platforms = ["linux-64"]

[tool.pixi.pypi-options]
index-url = "https://nexus.retd.edf.fr/repository/pypi-all/simple"


[tool.pixi.pypi-dependencies]
codeaster-src = { path = ".", editable = true }

[tool.setuptools]
packages = ["code_aster"]

[tool.pixi.tasks]

[tool.pixi.dependencies]
numpy = "1.24.*"
scipy = ">=1.15.2,<2"
pyyaml = ">=6.0.2,<7"
sphinx = "<7"
ipython = ">=9.0.2,<10"
ruff = ">=0.11.1,<0.12"

[tool.pixi.feature.dbg.dependencies]
debugpy = "*"
py-spy = ">=0.4.0,<0.5"

[tool.pixi.environments]
dbg = ["dbg"]

[tool.black]
line-length = 100
skip-magic-trailing-comma = true

[tool.isort]
profile = "black"

[tool.ruff]
line-length = 100
indent-width = 4
builtins = ["_", "_F"]

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = true
line-ending = "auto"

[tool.ruff.lint.per-file-ignores]
"code_aster/Cata/**/*.py" = ["F403", "F405"]
